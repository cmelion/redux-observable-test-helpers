{"version":3,"sources":["webpack:///epic-helper.min.js","webpack:///webpack/bootstrap 81620c9d73c86a2f98a9","webpack:///./src/index.js","webpack:///./src/ajax-helper.js","webpack:///./src/epic-helper.js","webpack:///external \"rxjs\"","webpack:///external \"sinon\"","webpack:///external \"redux-observable\""],"names":["window","modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","indirect","MockXMLHttpRequest","expectEpic","undefined","_ajaxHelper","_epicHelper","_epicHelper2","fn","_len","arguments","length","args","Array","_key","MockWebSocket","url","protocol","this","sent","handlers","readyState","sockets","push","get","socket","enumerable","configurable","clearSockets","prototype","send","data","triggerClose","e","trigger","triggerError","err","triggerMessage","messageEvent","origin","ports","source","__root__","open","close","code","reason","closeCode","closeReason","wasClean","addEventListener","name","handler","lookup","removeEventListener","i","splice","responseType","eventHandlers","requestHeaders","previousRequest","recentRequest","requests","clearRequest","abort","aborted","method","async","user","password","triggerEvent","setRequestHeader","key","eh","throwError","respondWith","response","responseHeaders","Content-Type","contentType","status","responseText","JSON","parse","Error","eventObj","forEach","bearerToken","hasOwnProperty","apply","setBearerToken","token","clearBearerToken","_toConsumableArray","arr","isArray","arr2","from","_rxjs","_rxjs2","_sinon","_sinon2","_reduxObservable","TestScheduler","epic","_ref","_testScheduler$expect","action","callArgs","done","expected","replace","store","replacer","replaceValues","actual","expectation","stringify","j","testScheduler","setTimeout","e_str","a_str","console","log","should","deep","equal","action$","ActionsObservable","createHotObservable","responseSubs","response$","createColdObservable","stub","returns","test$","expectObservable","toBe","flush","_call","called","eq","calledOnce","calledWithExactly","expectSubscriptions","subscriptions","require"],"mappings":"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","file":"epic-helper.min.js","sourcesContent":["window[\"epicHelper\"] =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.indirect = exports.MockXMLHttpRequest = exports.expectEpic = undefined;\n\t\n\tvar _ajaxHelper = __webpack_require__(1);\n\t\n\tvar _epicHelper = __webpack_require__(2);\n\t\n\tvar _epicHelper2 = _interopRequireDefault(_epicHelper);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar indirect = {\n\t    call: function call(fn) {\n\t        for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n\t            args[_key - 1] = arguments[_key];\n\t        }\n\t\n\t        return fn.apply(undefined, args);\n\t    }\n\t};\n\t\n\texports.expectEpic = _epicHelper2.default;\n\texports.MockXMLHttpRequest = _ajaxHelper.MockXMLHttpRequest;\n\texports.indirect = indirect;\n\texports.default = {\n\t    MockWebSocket: _ajaxHelper.MockWebSocket,\n\t    MockXMLHttpRequest: _ajaxHelper.MockXMLHttpRequest,\n\t    expectEpic: _epicHelper2.default,\n\t    indirect: indirect\n\t};\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t/**\n\t * Utility classes helpful for testing AJAX calls, especially those made as side effects of\n\t * Redux actions/epics.  Used by tests in Tavern-Client and Raven-Client.\n\t */\n\t\"use strict\";\n\t\n\tvar MockWebSocket = function () {\n\t    function MockWebSocket(url, protocol) {\n\t        this.url = url;\n\t        this.protocol = protocol;\n\t        this.sent = [];\n\t        this.handlers = {};\n\t        this.readyState = 0;\n\t        MockWebSocket.sockets.push(this);\n\t    }\n\t    Object.defineProperty(MockWebSocket, \"lastSocket\", {\n\t        get: function get() {\n\t            var socket = MockWebSocket.sockets;\n\t            var length = socket.length;\n\t            return length > 0 ? socket[length - 1] : undefined;\n\t        },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    MockWebSocket.clearSockets = function () {\n\t        MockWebSocket.sockets.length = 0;\n\t    };\n\t    MockWebSocket.prototype.send = function (data) {\n\t        this.sent.push(data);\n\t    };\n\t    Object.defineProperty(MockWebSocket.prototype, \"lastMessageSent\", {\n\t        get: function get() {\n\t            var sent = this.sent;\n\t            var length = sent.length;\n\t            return length > 0 ? sent[length - 1] : undefined;\n\t        },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    MockWebSocket.prototype.triggerClose = function (e) {\n\t        this.readyState = 3;\n\t        this.trigger('close', e);\n\t    };\n\t    MockWebSocket.prototype.triggerError = function (err) {\n\t        this.readyState = 3;\n\t        this.trigger('error', err);\n\t    };\n\t    MockWebSocket.prototype.triggerMessage = function (data) {\n\t        var messageEvent = {\n\t            data: data,\n\t            origin: 'mockorigin',\n\t            ports: undefined,\n\t            source: __root__\n\t        };\n\t        this.trigger('message', messageEvent);\n\t    };\n\t    MockWebSocket.prototype.open = function () {\n\t        this.readyState = 1;\n\t        this.trigger('open', {});\n\t    };\n\t    MockWebSocket.prototype.close = function (code, reason) {\n\t        if (this.readyState < 2) {\n\t            this.readyState = 2;\n\t            this.closeCode = code;\n\t            this.closeReason = reason;\n\t            this.triggerClose({ wasClean: true });\n\t        }\n\t    };\n\t    MockWebSocket.prototype.addEventListener = function (name, handler) {\n\t        var lookup = this.handlers[name] = this.handlers[name] || [];\n\t        lookup.push(handler);\n\t    };\n\t    MockWebSocket.prototype.removeEventListener = function (name, handler) {\n\t        var lookup = this.handlers[name];\n\t        if (lookup) {\n\t            for (var i = lookup.length - 1; i--;) {\n\t                if (lookup[i] === handler) {\n\t                    lookup.splice(i, 1);\n\t                }\n\t            }\n\t        }\n\t    };\n\t    MockWebSocket.prototype.trigger = function (name, e) {\n\t        if (this['on' + name]) {\n\t            this['on' + name](e);\n\t        }\n\t        var lookup = this.handlers[name];\n\t        if (lookup) {\n\t            for (var i = 0; i < lookup.length; i++) {\n\t                lookup[i](e);\n\t            }\n\t        }\n\t    };\n\t    MockWebSocket.sockets = [];\n\t    return MockWebSocket;\n\t}();\n\texports.MockWebSocket = MockWebSocket;\n\tvar MockXMLHttpRequest = function () {\n\t    function MockXMLHttpRequest() {\n\t        this.responseType = '';\n\t        this.eventHandlers = [];\n\t        this.readyState = 0;\n\t        this.requestHeaders = {};\n\t        this.previousRequest = MockXMLHttpRequest.recentRequest;\n\t        MockXMLHttpRequest.recentRequest = this;\n\t        MockXMLHttpRequest.requests.push(this);\n\t    }\n\t    Object.defineProperty(MockXMLHttpRequest, \"mostRecent\", {\n\t        get: function get() {\n\t            return MockXMLHttpRequest.recentRequest;\n\t        },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    Object.defineProperty(MockXMLHttpRequest, \"allRequests\", {\n\t        get: function get() {\n\t            return MockXMLHttpRequest.requests;\n\t        },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    MockXMLHttpRequest.clearRequest = function () {\n\t        MockXMLHttpRequest.requests.length = 0;\n\t        MockXMLHttpRequest.recentRequest = null;\n\t    };\n\t    MockXMLHttpRequest.prototype.send = function (data) {\n\t        this.data = data;\n\t    };\n\t    MockXMLHttpRequest.prototype.abort = function () {\n\t        this.aborted = true;\n\t    };\n\t    MockXMLHttpRequest.prototype.open = function (method, url, async, user, password) {\n\t        this.method = method;\n\t        this.url = url;\n\t        this.user = user;\n\t        this.password = password;\n\t        this.readyState = 1;\n\t        this.triggerEvent('readyStateChange');\n\t    };\n\t    MockXMLHttpRequest.prototype.setRequestHeader = function (key, value) {\n\t        this.requestHeaders[key] = value;\n\t    };\n\t    MockXMLHttpRequest.prototype.addEventListener = function (name, handler) {\n\t        this.eventHandlers.push({ name: name, handler: handler });\n\t    };\n\t    MockXMLHttpRequest.prototype.removeEventListener = function (name, handler) {\n\t        for (var i = this.eventHandlers.length - 1; i--;) {\n\t            var eh = this.eventHandlers[i];\n\t            if (eh.name === name && eh.handler === handler) {\n\t                this.eventHandlers.splice(i, 1);\n\t            }\n\t        }\n\t    };\n\t    MockXMLHttpRequest.prototype.throwError = function (err) {\n\t        // TODO: something better with errors\n\t        this.triggerEvent('error');\n\t    };\n\t    MockXMLHttpRequest.prototype.respondWith = function (response) {\n\t        this.readyState = 4;\n\t        this.responseHeaders = {\n\t            'Content-Type': response.contentType || 'text/plain'\n\t        };\n\t        this.status = response.status || 200;\n\t        this.responseText = response.responseText;\n\t        if (!('response' in response)) {\n\t            switch (this.responseType) {\n\t                case 'json':\n\t                    try {\n\t                        this.response = JSON.parse(response.responseText);\n\t                    } catch (err) {\n\t                        throw new Error('unable to JSON.parse: \\n' + response.responseText);\n\t                    }\n\t                    break;\n\t                case 'text':\n\t                    this.response = response.responseText;\n\t                    break;\n\t                default:\n\t                    throw new Error('unhandled type \"' + this.responseType + '\"');\n\t            }\n\t        }\n\t        // TODO: pass better event to onload.\n\t        this.triggerEvent('load');\n\t        this.triggerEvent('readystatechange');\n\t    };\n\t    MockXMLHttpRequest.prototype.triggerEvent = function (name, eventObj) {\n\t        // TODO: create a better default event\n\t        var e = eventObj || {};\n\t        if (this['on' + name]) {\n\t            this['on' + name](e);\n\t        }\n\t        this.eventHandlers.forEach(function (eh) {\n\t            if (eh.name === name) {\n\t                eh.handler.call(this, e);\n\t            }\n\t        });\n\t    };\n\t    MockXMLHttpRequest.requests = [];\n\t\n\t    // IIFE used to assign bearer token for all ajax requests at the application's top level\n\t    (function (open) {\n\t        var bearerToken;\n\t\n\t        /* istanbul ignore else  */\n\t        if (!MockXMLHttpRequest.hasOwnProperty('setBearerToken')) {\n\t            /* istanbul ignore next  */\n\t            MockXMLHttpRequest.prototype.open = function () {\n\t                open.apply(this, arguments);\n\t                if (bearerToken) {\n\t                    this.setRequestHeader('Authorization', 'Bearer ' + bearerToken);\n\t                }\n\t            };\n\t\n\t            MockXMLHttpRequest.setBearerToken = function (token) {\n\t                bearerToken = token;\n\t            };\n\t            MockXMLHttpRequest.clearBearerToken = function () {\n\t                bearerToken = null;\n\t            };\n\t        }\n\t    })(MockXMLHttpRequest.prototype.open);\n\t\n\t    return MockXMLHttpRequest;\n\t}();\n\texports.MockXMLHttpRequest = MockXMLHttpRequest;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _rxjs = __webpack_require__(3);\n\t\n\tvar _rxjs2 = _interopRequireDefault(_rxjs);\n\t\n\tvar _sinon = __webpack_require__(4);\n\t\n\tvar _sinon2 = _interopRequireDefault(_sinon);\n\t\n\tvar _reduxObservable = __webpack_require__(5);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tvar TestScheduler = _rxjs2.default.TestScheduler;\n\t\n\t/**\n\t *\n\t * @param epic - the redux-observable epic to test\n\t * @param action - the action the epic is listening for\n\t * @param call -  (optional) a local sinon.spy used to get/set/reset api calls\n\t * @param callArgs - (optional) An array containing the api method, followed by any params\n\t * @param done - (optional) a reference to sinon done function\n\t * @param expected - marble notation for the expected result\n\t * @param replace - (optional) allows replacement of fields using timestamps or other generated values\n\t * @param response - the expected payload\n\t * @param store - (optional) a reference to the redux store\n\t */\n\t\n\tvar expectEpic = function expectEpic(epic, _ref) {\n\t    var _testScheduler$expect;\n\t\n\t    var action = _ref.action,\n\t        call = _ref.call,\n\t        callArgs = _ref.callArgs,\n\t        done = _ref.done,\n\t        expected = _ref.expected,\n\t        replace = _ref.replace,\n\t        response = _ref.response,\n\t        store = _ref.store;\n\t\n\t\n\t    var replacer = function replacer(key, value) {\n\t        // Filtering out properties\n\t        if (key === replace.key) {\n\t            return replace.value;\n\t        }\n\t        return value;\n\t    };\n\t\n\t    var replaceValues = function replaceValues(actual, expectation) {\n\t        for (var i = 0; i < actual.length; i++) {\n\t            actual[i] = JSON.parse(JSON.stringify(actual[i], replacer));\n\t        }\n\t        for (var j = 0; j < expectation.length; j++) {\n\t            expectation[j] = JSON.parse(JSON.stringify(expectation[j], replacer));\n\t        }\n\t    };\n\t\n\t    var testScheduler = new TestScheduler(function (actual, expectation) {\n\t\n\t        setTimeout(function () {\n\t            // Handle any necessary data manipulation * this could be extended to take an array\n\t            if (replace) {\n\t                replaceValues(actual, expectation);\n\t            }\n\t\n\t            var e_str = JSON.stringify(expectation),\n\t                a_str = JSON.stringify(actual);\n\t            if (e_str !== a_str) {\n\t                /* eslint-disable no-console */\n\t                console.log('expected', JSON.stringify(expectation));\n\t                console.log('actual--', JSON.stringify(actual));\n\t                /* eslint-enable no-console */\n\t            }\n\t\n\t            if (done) {\n\t                actual.should.deep.equal(expectation);\n\t                done();\n\t            }\n\t        });\n\t\n\t        if (!done) {\n\t            // Handle any necessary data manipulation * this could be extended to take an array\n\t            if (replace) {\n\t                replaceValues(actual, expectation);\n\t            }\n\t            actual.should.deep.equal(expectation);\n\t        }\n\t    });\n\t\n\t    var action$ = new _reduxObservable.ActionsObservable(testScheduler.createHotObservable.apply(testScheduler, _toConsumableArray(action)));\n\t    var responseSubs = '^!';\n\t    var response$ = testScheduler.createColdObservable.apply(testScheduler, _toConsumableArray(response));\n\t    call = _sinon2.default.stub().returns(response$);\n\t\n\t    var test$ = epic(action$, store, call);\n\t    (_testScheduler$expect = testScheduler.expectObservable(test$)).toBe.apply(_testScheduler$expect, _toConsumableArray(expected));\n\t    testScheduler.flush();\n\t\n\t    if (callArgs !== undefined) {\n\t        var _call;\n\t\n\t        call.called.should.eq(true);\n\t        call.calledOnce.should.eq(true);\n\t        (_call = call).calledWithExactly.apply(_call, _toConsumableArray(callArgs)).should.eq(true);\n\t    }\n\t\n\t    testScheduler.expectSubscriptions(response$.subscriptions).toBe(responseSubs);\n\t};\n\t\n\texports.default = expectEpic;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"rxjs\");\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"sinon\");\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"redux-observable\");\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** epic-helper.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 81620c9d73c86a2f98a9\n **/","import {MockWebSocket, MockXMLHttpRequest} from './ajax-helper';\nimport expectEpic from './epic-helper';\n\nconst indirect = {\n    call:  (fn, ...args) => fn(...args)\n};\n\nexport {expectEpic};\nexport {MockXMLHttpRequest};\nexport {indirect};\nexport default {\n    MockWebSocket,\n    MockXMLHttpRequest,\n    expectEpic,\n    indirect\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","/**\n * Utility classes helpful for testing AJAX calls, especially those made as side effects of\n * Redux actions/epics.  Used by tests in Tavern-Client and Raven-Client.\n */\n\"use strict\";\nvar MockWebSocket = (function () {\n    function MockWebSocket(url, protocol) {\n        this.url = url;\n        this.protocol = protocol;\n        this.sent = [];\n        this.handlers = {};\n        this.readyState = 0;\n        MockWebSocket.sockets.push(this);\n    }\n    Object.defineProperty(MockWebSocket, \"lastSocket\", {\n        get: function () {\n            var socket = MockWebSocket.sockets;\n            var length = socket.length;\n            return length > 0 ? socket[length - 1] : undefined;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    MockWebSocket.clearSockets = function () {\n        MockWebSocket.sockets.length = 0;\n    };\n    MockWebSocket.prototype.send = function (data) {\n        this.sent.push(data);\n    };\n    Object.defineProperty(MockWebSocket.prototype, \"lastMessageSent\", {\n        get: function () {\n            var sent = this.sent;\n            var length = sent.length;\n            return length > 0 ? sent[length - 1] : undefined;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    MockWebSocket.prototype.triggerClose = function (e) {\n        this.readyState = 3;\n        this.trigger('close', e);\n    };\n    MockWebSocket.prototype.triggerError = function (err) {\n        this.readyState = 3;\n        this.trigger('error', err);\n    };\n    MockWebSocket.prototype.triggerMessage = function (data) {\n        var messageEvent = {\n            data: data,\n            origin: 'mockorigin',\n            ports: undefined,\n            source: __root__\n        };\n        this.trigger('message', messageEvent);\n    };\n    MockWebSocket.prototype.open = function () {\n        this.readyState = 1;\n        this.trigger('open', {});\n    };\n    MockWebSocket.prototype.close = function (code, reason) {\n        if (this.readyState < 2) {\n            this.readyState = 2;\n            this.closeCode = code;\n            this.closeReason = reason;\n            this.triggerClose({ wasClean: true });\n        }\n    };\n    MockWebSocket.prototype.addEventListener = function (name, handler) {\n        var lookup = this.handlers[name] = this.handlers[name] || [];\n        lookup.push(handler);\n    };\n    MockWebSocket.prototype.removeEventListener = function (name, handler) {\n        var lookup = this.handlers[name];\n        if (lookup) {\n            for (var i = lookup.length - 1; i--;) {\n                if (lookup[i] === handler) {\n                    lookup.splice(i, 1);\n                }\n            }\n        }\n    };\n    MockWebSocket.prototype.trigger = function (name, e) {\n        if (this['on' + name]) {\n            this['on' + name](e);\n        }\n        var lookup = this.handlers[name];\n        if (lookup) {\n            for (var i = 0; i < lookup.length; i++) {\n                lookup[i](e);\n            }\n        }\n    };\n    MockWebSocket.sockets = [];\n    return MockWebSocket;\n}());\nexports.MockWebSocket = MockWebSocket;\nvar MockXMLHttpRequest = (function () {\n    function MockXMLHttpRequest() {\n        this.responseType = '';\n        this.eventHandlers = [];\n        this.readyState = 0;\n        this.requestHeaders = {};\n        this.previousRequest = MockXMLHttpRequest.recentRequest;\n        MockXMLHttpRequest.recentRequest = this;\n        MockXMLHttpRequest.requests.push(this);\n    }\n    Object.defineProperty(MockXMLHttpRequest, \"mostRecent\", {\n        get: function () {\n            return MockXMLHttpRequest.recentRequest;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MockXMLHttpRequest, \"allRequests\", {\n        get: function () {\n            return MockXMLHttpRequest.requests;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    MockXMLHttpRequest.clearRequest = function () {\n        MockXMLHttpRequest.requests.length = 0;\n        MockXMLHttpRequest.recentRequest = null;\n    };\n    MockXMLHttpRequest.prototype.send = function (data) {\n        this.data = data;\n    };\n    MockXMLHttpRequest.prototype.abort = function () {\n        this.aborted = true;\n    };\n    MockXMLHttpRequest.prototype.open = function (method, url, async, user, password) {\n        this.method = method;\n        this.url = url;\n        this.user = user;\n        this.password = password;\n        this.readyState = 1;\n        this.triggerEvent('readyStateChange');\n    };\n    MockXMLHttpRequest.prototype.setRequestHeader = function (key, value) {\n        this.requestHeaders[key] = value;\n    };\n    MockXMLHttpRequest.prototype.addEventListener = function (name, handler) {\n        this.eventHandlers.push({ name: name, handler: handler });\n    };\n    MockXMLHttpRequest.prototype.removeEventListener = function (name, handler) {\n        for (var i = this.eventHandlers.length - 1; i--;) {\n            var eh = this.eventHandlers[i];\n            if (eh.name === name && eh.handler === handler) {\n                this.eventHandlers.splice(i, 1);\n            }\n        }\n    };\n    MockXMLHttpRequest.prototype.throwError = function (err) {\n        // TODO: something better with errors\n        this.triggerEvent('error');\n    };\n    MockXMLHttpRequest.prototype.respondWith = function (response) {\n        this.readyState = 4;\n        this.responseHeaders = {\n            'Content-Type': response.contentType || 'text/plain'\n        };\n        this.status = response.status || 200;\n        this.responseText = response.responseText;\n        if (!('response' in response)) {\n            switch (this.responseType) {\n                case 'json':\n                    try {\n                        this.response = JSON.parse(response.responseText);\n                    }\n                    catch (err) {\n                        throw new Error('unable to JSON.parse: \\n' + response.responseText);\n                    }\n                    break;\n                case 'text':\n                    this.response = response.responseText;\n                    break;\n                default:\n                    throw new Error('unhandled type \"' + this.responseType + '\"');\n            }\n        }\n        // TODO: pass better event to onload.\n        this.triggerEvent('load');\n        this.triggerEvent('readystatechange');\n    };\n    MockXMLHttpRequest.prototype.triggerEvent = function (name, eventObj) {\n        // TODO: create a better default event\n        var e = eventObj || {};\n        if (this['on' + name]) {\n            this['on' + name](e);\n        }\n        this.eventHandlers.forEach(function (eh) {\n            if (eh.name === name) {\n                eh.handler.call(this, e);\n            }\n        });\n    };\n    MockXMLHttpRequest.requests = [];\n\n    // IIFE used to assign bearer token for all ajax requests at the application's top level\n    (function(open) {\n        var bearerToken;\n\n        /* istanbul ignore else  */\n        if (!MockXMLHttpRequest.hasOwnProperty('setBearerToken')) {\n            /* istanbul ignore next  */\n            MockXMLHttpRequest.prototype.open = function() {\n                open.apply(this, arguments);\n                if (bearerToken) {\n                    this.setRequestHeader('Authorization', 'Bearer ' + bearerToken);\n                }\n            };\n\n            MockXMLHttpRequest.setBearerToken = function(token) {\n                bearerToken = token;\n            };\n            MockXMLHttpRequest.clearBearerToken = function() {\n                bearerToken = null;\n            };\n        }\n    })(MockXMLHttpRequest.prototype.open);\n\n    return MockXMLHttpRequest;\n}());\nexports.MockXMLHttpRequest = MockXMLHttpRequest;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ajax-helper.js\n **/","import Rx from 'rxjs';\nimport sinon from 'sinon';\nimport {ActionsObservable} from 'redux-observable';\n\nconst {TestScheduler} = Rx;\n\n/**\n *\n * @param epic - the redux-observable epic to test\n * @param action - the action the epic is listening for\n * @param call -  (optional) a local sinon.spy used to get/set/reset api calls\n * @param callArgs - (optional) An array containing the api method, followed by any params\n * @param done - (optional) a reference to sinon done function\n * @param expected - marble notation for the expected result\n * @param replace - (optional) allows replacement of fields using timestamps or other generated values\n * @param response - the expected payload\n * @param store - (optional) a reference to the redux store\n */\nconst expectEpic = (epic, {action, call, callArgs, done, expected, replace, response, store}) => {\n\n    const replacer = (key, value) => {\n        // Filtering out properties\n        if (key === replace.key) {\n            return replace.value;\n        }\n        return value;\n    };\n\n    const replaceValues = (actual, expectation) => {\n        for (var i = 0; i < actual.length; i++) {\n            actual[i] = JSON.parse(JSON.stringify(actual[i], replacer));\n        }\n        for (var j = 0; j < expectation.length; j++) {\n            expectation[j] = JSON.parse(JSON.stringify(expectation[j], replacer));\n        }\n    };\n\n    const testScheduler = new TestScheduler((actual, expectation) => {\n\n\n        setTimeout(() => {\n            // Handle any necessary data manipulation * this could be extended to take an array\n            if (replace) {\n                replaceValues(actual, expectation);\n            }\n\n            let e_str = JSON.stringify(expectation),\n                a_str = JSON.stringify(actual);\n            if (e_str !== a_str) {\n                /* eslint-disable no-console */\n                console.log('expected', JSON.stringify(expectation));\n                console.log('actual--', JSON.stringify(actual));\n                /* eslint-enable no-console */\n            }\n\n            if (done) {\n                actual.should.deep.equal(expectation);\n                done();\n            }\n        });\n\n        if (!done) {\n            // Handle any necessary data manipulation * this could be extended to take an array\n            if (replace) {\n                replaceValues(actual, expectation);\n            }\n            actual.should.deep.equal(expectation);\n        }\n    });\n\n    const action$ = new ActionsObservable(\n        testScheduler.createHotObservable(...action)\n    );\n    const responseSubs = '^!';\n    const response$ = testScheduler.createColdObservable(...response);\n    call = sinon.stub().returns(response$);\n\n    const test$ = epic(action$, store, call);\n    testScheduler.expectObservable(test$).toBe(...expected);\n    testScheduler.flush();\n\n    if (callArgs !== undefined) {\n        call.called.should.eq(true);\n        call.calledOnce.should.eq(true);\n        call.calledWithExactly(...callArgs).should.eq(true);\n    }\n\n    testScheduler.expectSubscriptions(response$.subscriptions).toBe(responseSubs);\n};\n\nexport default expectEpic;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/epic-helper.js\n **/","module.exports = require(\"rxjs\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"rxjs\"\n ** module id = 3\n ** module chunks = 0\n **/","module.exports = require(\"sinon\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"sinon\"\n ** module id = 4\n ** module chunks = 0\n **/","module.exports = require(\"redux-observable\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"redux-observable\"\n ** module id = 5\n ** module chunks = 0\n **/"],"sourceRoot":""}